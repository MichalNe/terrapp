parameters:

services:
    _defaults:
        autowire: true
        autoconfigure: true


    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    App\SharedKernel\Presenter:
        autowire: false

    App\SharedKernel\Validator:
        autowire: true

    App\Auth\Infrastructure\AuthDbRepository:
        arguments:
            $entityManager: '@Doctrine\ORM\EntityManagerInterface'

    App\Auth\DomainModel\AuthRepository:
        class: 'App\Auth\Infrastructure\AuthDbRepository'

    App\Auth\ReadModel\AuthReadModel:
        arguments:
            $authRepository: '@App\Auth\DomainModel\AuthRepository'

    App\Auth\Application\AuthService:
        arguments:
            $authRepository: '@App\Auth\DomainModel\AuthRepository'
